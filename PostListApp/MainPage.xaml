<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="PostListApp.MainPage"
             BackgroundColor="{StaticResource BgColor}">

    <ScrollView>
        <VerticalStackLayout Padding="15" Spacing="10">

            <!-- 🌅 Creative Main Heading -->
            <Label Text="🌅 Visual Stories Around the World"
                   FontAttributes="Bold"
                   FontSize="26"
                   TextColor="White"
                   HorizontalOptions="Center"
                   Margin="0,10,0,20"/>

            <!-- Loading Indicator -->
            <ActivityIndicator x:Name="LoadingIndicator"
                               IsRunning="True"
                               IsVisible="True"
                               Color="White"
                               HorizontalOptions="Center" />

            <Label x:Name="ErrorLabel"
                   TextColor="Red"
                   FontAttributes="Bold"
                   FontSize="16"
                   IsVisible="False"
                   HorizontalOptions="Center"/>

            <!-- Posts -->
            <CollectionView x:Name="PostsCollectionView"
                            SelectionMode="Single"
                            SelectionChanged="PostsCollectionView_SelectionChanged"
                            VerticalScrollBarVisibility="Always"
                            ItemsUpdatingScrollMode="KeepScrollOffset">

                <CollectionView.ItemsLayout>
                    <LinearItemsLayout Orientation="Vertical" ItemSpacing="15"/>
                </CollectionView.ItemsLayout>

                <CollectionView.ItemTemplate>
                    <DataTemplate>
                        <Border StrokeShape="RoundRectangle 14"
                                BackgroundColor="#1E1E1E"
                                Padding="10">
                            <VerticalStackLayout Spacing="8">

                                <!-- Post Image -->
                                <Border StrokeShape="RoundRectangle 10" HeightRequest="180">
                                    <Image Source="{Binding imageUrl}" Aspect="AspectFill"/>
                                </Border>

                                <!-- Post Title -->
                                <Label Text="{Binding title}"
                                       FontSize="18"
                                       FontAttributes="Bold"
                                       TextColor="#FFD700"/>

                                <!-- Post Body -->
                                <Label Text="{Binding body}"
                                       FontSize="15"
                                       TextColor="#DDDDDD"
                                       LineBreakMode="WordWrap"/>
                            </VerticalStackLayout>
                        </Border>
                    </DataTemplate>
                </CollectionView.ItemTemplate>
            </CollectionView>

        </VerticalStackLayout>
    </ScrollView>
</ContentPage>
